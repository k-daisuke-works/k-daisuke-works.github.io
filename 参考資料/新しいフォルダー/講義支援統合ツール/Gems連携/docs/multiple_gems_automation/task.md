# タスクリスト: Multiple Gems Automation

- [x] **Phase 1: 環境構築**
    - [x] `gems_autosaver` ディレクトリ内でプロジェクト初期化 (`npm init -y`)
    - [x] 必要なパッケージ (`playwright`, `express`, `cors`) をインストール
- [x] **Phase 2: バックエンド (Node.js & Playwright)**
    - [x] `server.js`: フロント用サーバーおよび自動化キック用API構築
    - [x] `automation.js`: 複数URLに対応したPlaywrightスクリプト構築
        - [x] ログイン認証セッション保持機能 (Persistent Context + CDP連携)の実装
        - [x] 長文考慮の確実なクリップボードキーボード入力機能実装
        - [x] DOM文字数変化監視による2段構えの生成完了待機ロジックの実装
        - [x] 一部Gem（i===0）のみ「家族構成」ブロックを抽出入力する条件分岐の実装
        - [x] プロンプト送信・テキスト抽出処理の `Promise.all` を用いた複数タブ並行実行の実装
        - [x] Playwright Locatorを用いた堅牢なテキスト抽出ロジック（画像・スライド機能削除に合わせた調整）
        - [x] `downloads/` フォルダへの保存処理
- [x] **Phase 3: フロントエンド (Web UI)**
    - [x] `public/index.html`: URLリスト（改行区切り）とプロンプトの入力フィールドの作成
    - [x] `public/style.css`: プレミアム仕様のガラスモーフィズム＆アニメーションの実装
    - [x] `public/script.js`: バックエンドAPIへの非同期POSTリクエスト呼び出し
- [x] **Phase 4: テスト・動作確認**
    - [x] UIの動作およびサーバーの起動確認
    - [x] タブの一斉起動と、1つ目のGem固有のプロンプト挿入挙動のテスト
    - [x] ファイル保存時のバグ対応と、確実なレスポンス取得待機の実証
